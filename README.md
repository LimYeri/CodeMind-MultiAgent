###### 개인 프로젝트 

# CodeMind-MultiAgent-RAG
- 본 프로젝트는 goorm CodeMind팀의 [파이널 프로젝트](https://github.com/LimYeri/CodeMind_project)를 확장한 **두 번째 개인 연구**입니다.
- *Langchain*과 *CrewAI* 라이브러리를 활용하여, 문제 설명, 프로그래밍, 알고리즘 및 자료구조 교육을 위한 다양한 에이전트를 생성하고, **사용자 입력에 따라 문서 검색, 웹 검색, 코드 실행 등을 자동화**하는 시스템입니다.
<br>

---

## 개발 기간 & 환경
- **개발 기간:** 2024. 08 ~ 2024. 09
- **개발 플랫폼:** Jupyter Lab

## 사용 LLM Model
- gpt-4o
- gpt-3.5-turbo

## 주요 기능
- 데이터 프레임 내용 기반 코딩 테스트 문제 설명
- 웹 검색 기반 코딩 테스트 문제 설명
- Python 코드 생성
- 사용자 코드 정밀 분석
- 웹 검색 기반 자료구조 및 알고리즘 개념 설명

# Agent 목록
1. **문제 설명 에이전트**
    - **기능**: 사용자가 코딩 테스트 문제에 대해 질문하면, 문제를 쉽게 이해할 수 있도록 자세히 설명해주는 역할을 수행합니다.
    - **주요 특징**:
        - 데이터 프레임에 저장된 문제 데이터를 조회해 설명.
        - 웹 검색을 통해 외부 문제 내용에 대한 설명을 제공.
    - **구현 방법**:
        - **LangChain** 라이브러리를 사용하여 구현.
        - `create_pandas_dataframe_agent`를 활용하여, 만약 문제가 CSV 파일 내에 포함되어 있을 경우, `python_repl_ast`로 데이터프레임을 조회하고, 쿼리를 실행하여 검색된 내용을 바탕으로 답변을 생성합니다.
        - 문제 내용이 CSV 파일에 포함되지 않은 경우, **TavilySearch Tool**을 사용해 웹에서 코딩 문제를 검색하고, 그 검색 결과를 기반으로 답변을 제공합니다.
        <br>
2. **코딩 에이전트**
    - **기능**: 사용자가 코딩 테스트 문제에 대한 코드를 작성해달라고 요청하면, 해당 문제를 해결하기 위한 프로그래밍을 수행합니다. 코드 실행도 포함됩니다.
    - **주요 특징**:
        - Python 코드 작성 및 실행 지원.
        - 코딩 테스트의 입력 데이터를 바탕으로 코드의 정확성 검증.
    - **구현 방법**:
        - **CrewAI** 라이브러리를 활용하여 **Agent**, **Task**, **Crew**를 생성합니다.
        - `allow_code_execution=True`와 `tools=[CodeInterpreterTool()]`을 사용하여 LLM이 작성한 코드를 실제로 실행하고, 코딩 테스트의 입력 데이터를 기반으로 코드의 정확성을 검증한 후 결과를 제공합니다.
        <br>
3. **코드 리뷰 에이전트**
    - **기능**: 사용자가 작성한 코딩 테스트 문제의 코드를 입력하고 리뷰를 요청하면, 그 코드를 분석하고 피드백을 제공합니다.
    - **주요 특징**:
        - 코드 실행 시간, 메모리 사용량 등 측정.
        - **cProfile** 및 **memory_profiler**를 사용한 코드 프로파일링 및 분석.
    - **구현 방법**:
        - **LangChain** 라이브러리를 사용하여 구현.
        - 사용자 입력에서 문제 설명, 사용자 코드, 예시 입력 데이터를 추출 및 파싱합니다.
        - 추출된 코드를 기반으로 시간 복잡도와 공간 복잡도를 계산합니다.
        - `exec` 및 `subprocess`를 사용해 코드를 최소한으로 수정하여 실행하며, LLM 모델은 gpt-4를 사용하고, 온도를 0으로 설정해 LLM이 코드를 과도하게 변경하지 않도록 제어합니다.
        - `exec` 실행을 통해 **cProfile**로 성능을 프로파일링하고, `subprocess`로 **memory_profiler**를 사용하여 라인별 메모리 사용량을 측정합니다.
        - 코드의 실행 시간, 메모리 사용량, 시간 및 공간 복잡도, 그리고 라인별 메모리 사용량 등 다양한 성능 지표를 분석한 후 피드백을 제공합니다.
        - 만약 실행 도중 에러가 발생할 경우, 다시 코드 편집 단계로 돌아가 수정 절차를 반복합니다.
      <br>
4. **자료구조 및 알고리즘 교육 에이전트** 
    - **기능**: 사용자가 자료구조나 알고리즘 개념에 대해 질문하면, 해당 개념을 쉽게 이해할 수 있도록 설명을 제공합니다.
    - **주요 특징**:
        - 위키피디아 검색 내용 기반 개념 해설 제공.
    - **구현 방법**:
        - **LangChain** 라이브러리를 사용하여 구현.
        - 사용자 입력을 바탕으로 **Wikipedia** 검색 쿼리를 생성합니다.
        - **WikipediaLoader**를 사용해 검색된 문서를 로드하고, 해당 내용을 기반으로 명확하고 상세하게 개념을 설명합니다.
<br>

---


## 시스템 아키텍쳐 - 전체 LangGraph 구조
![image](https://github.com/user-attachments/assets/ab5dd718-dbfa-4fd9-b233-f9802247680f)
